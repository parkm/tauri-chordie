@import "tailwindcss";

@variant mobile (width < 480px);
@variant tablet (width < 768px);
@variant compact (width < 768px);
@variant compact-h (height < 550px);

@theme {
  /* Custom Colors */
  --color-primary: #1976d2;
  --color-primary-dark: #115293;
  --color-primary-light: #4791db;
  --color-secondary: #00bcd4;
  --color-success: #00c853;
  --color-error: #ff3d00;
  --color-warning: #ffab00;

  /* Semantic colors that adapt to dark mode */
  --color-background: #fafafa;
  --color-foreground: #212121;
  --color-card: #ffffff;
  --color-card-foreground: #212121;
  --color-staff-bg: #f8f9fa;
  --color-muted: #ffffff;

  /* Gray scale */
  --color-gray-100: #f5f5f5;
  --color-gray-200: #eeeeee;
  --color-gray-300: #e0e0e0;
  --color-gray-600: #757575;
  --color-gray-800: #424242;

  /* Spacing */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-xxl: 3rem;

  /* Border radius */
  --radius-sm: 0.25rem;
  --radius-md: 0.5rem;
  --radius-lg: 1rem;
  --radius-xl: 1.5rem;

  /* Shadows */
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
  --shadow-md: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
  --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);

  /* Typography */
  --font-family-sans:
    system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-family-mono: "SFMono-Regular", Consolas, Liberation Mono, Menlo, monospace;
}

/* Dark mode overrides */
@media (prefers-color-scheme: dark) {
  @theme {
    --color-background: #121212;
    --color-foreground: #e0e0e0;
    --color-card: #1e1e1e;
    --color-card-foreground: #e0e0e0;
    --color-staff-bg: #efefef;
    --color-muted: #1e1e1e;
    --color-gray-100: #2d2d2d;
    --color-gray-200: #333333;
    --color-gray-300: #404040;
    --color-gray-600: #b0b0b0;
    --color-gray-800: #d0d0d0;
  }
}

/* Additional custom CSS variables not in @theme */
:root {
  /* Custom dimensions */
  --header-height: 4rem;
  --staff-height: 100px;
  --staff-gap: 0px;
}

/* Base styles */
@layer base {
  html,
  body,
  #root {
    height: 100%;
    width: 100%;
  }

  body {
    font-family: var(--font-family-sans);
    background-color: var(--color-background);
    color: var(--color-foreground);
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow: hidden;
  }
}

/* Custom animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@layer utilities {
  .animate-fade-in {
    animation: fadeIn 0.3s ease;
  }
}

/* VexFlow specific styling */
@layer components {
  .staff-lines line {
    stroke: var(--color-gray-600);
    stroke-width: 1px;
  }

  .ledger-line {
    stroke: var(--color-gray-600);
    stroke-width: 1px;
  }

  .vexflow-note-label {
    fill: var(--color-gray-800);
    font-family: var(--font-family-mono);
    font-size: 0.75rem;
    dominant-baseline: middle;
    text-anchor: end;
  }
}

/* Responsive utilities using the variants defined above */
@layer utilities {
  .hide-compact {
    @media (width < 768px), (height < 550px) {
      display: none !important;
    }
  }

  .show-compact {
    display: none !important;
  }

  .show-compact-block {
    @media (width < 768px), (height < 550px) {
      display: block !important;
    }
  }

  .show-compact-flex {
    @media (width < 768px), (height < 550px) {
      display: flex !important;
    }
  }
}

/* Responsive staff heights - match the variant breakpoints above */
@media (width < 900px), (height < 550px) {
  :root {
    --staff-height: clamp(80px, 12vh, 120px);
  }
}

@media (width < 768px) {
  :root {
    --staff-height: clamp(70px, 10vh, 100px);
  }
}

@media (width < 480px) {
  :root {
    --staff-height: clamp(60px, 9vh, 90px);
    --staff-gap: 0px;
  }
}
